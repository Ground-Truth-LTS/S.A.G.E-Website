---
import Layout from '../layouts/Layout.astro';
import {Image} from "astro:assets";
import * as deviceContent from "../md-content/deviceContent.md";
import SystemDesign from "../assets/diagrams/updated_system_design.jpg";
import ESP32Connection from "../assets/ESP32Connection.jpg"
import Gallery from "../components/gallery.tsx";
import ESP32ConnectionCloseUp from "../assets/ESP32ConnectionCloseUp.jpg";
import InternalTool1 from "../assets/InternalTool1.png"; 
import InternalTool2 from "../assets/InternalTool2.png"; 
const { titleEsp, titleInternalTool, contentEsp1, contentEsp2, contentInternalTool } = deviceContent.frontmatter;
---

<Layout>
    <div class="flex flex-col min-h-screen px-4 my-10">          
        <h1 class="text-center mb-6">{titleEsp}</h1>        
        <div class="flex flex-col md:flex-row gap-8 justify-center max-w-6xl mx-auto">
            <div class="flex flex-col items-center px-3 md:w-1/2 h-full">
                <div class="image-container mb-4 w-full max-w-sm mx-auto">
                    <Image 
                        src={ESP32Connection} 
                        alt="ESP32 Device Design" 
                        width={350}
                        height={240}
                        quality={90}
                        class="shadow-md w-full h-auto object-cover rounded-lg"
                    />
                </div>
                <div class="w-full">
                    <p class="text-lg leading-relaxed h-full">{contentEsp1}</p>
                </div>
            </div>
            <div class="flex flex-col items-center px-3 md:w-1/2 h-full">
                <div class="image-container mb-4 w-full max-w-sm mx-auto">
                    <!-- System design image -->
                    <Image 
                        src={SystemDesign} 
                        alt="System Design Diagram" 
                        width={350}
                        height={240}
                        quality={90}
                        class="shadow-md w-full h-auto object-cover rounded-lg"
                    />
                </div>
                <div class="w-full">
                    <p class="text-lg leading-relaxed">{contentEsp2}</p>
                </div>
            </div>
        </div>
        <h1 class="pt-10 text-center mb-6">{titleInternalTool}</h1>
        <p class="text-lg leading-relaxed pb-5 px-3">{contentInternalTool}</p>
        <div class="w-full flex justify-center">
            <!-- Place holder images for the internal tool -->
            <Gallery client:only
            images={[
                { src: InternalTool1.src, alt: "Description 1" },
                { src: InternalTool2.src, alt: "Description 2" },
            ]}/>
        </div>
  
     </div>
</Layout>


<style>
    @layer base {
        h1 {
            font-size: var(--text-5xl);
            @media screen and (max-width: 768px) {
                font-size: var(--text-3xl);
            }
            font-family: "Ubuntu sans", sans-serif;
            font-weight: 900;
        }
        h2 {
            font-size: var(--text-3xl);
            @media screen and (max-width: 768px) {
                font-size: var(--text-2xl);
            }
            font-family: "Ubuntu sans", sans-serif;
            font-weight: 700;
            text-shadow: 1px 1px 4px #000000;

        }
        h3 {
            font-size: var(--text-lg);
            font-family: "Ubuntu sans", sans-serif;
        }
        a {
            color: var(--color-blue-600);
            text-decoration-line: underline;
        }
    }
    .is-mobile {
        @media screen and (max-width: 768px) {
            flex-direction: column;
            align-items: center;
        }
    }    p {
        font-family: 'Inter', sans-serif;
    }
    
    /* Image container with fixed height */
    .image-container {
        height: 240px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }
    
    .image-container img {
        max-height: 100%;
        width: auto;
        object-fit: contain;
    }
</style>